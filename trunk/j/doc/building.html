<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<html>

<head>
<title>J User's Guide - Building the Source</title>
<LINK REL="stylesheet" HREF="j.css" TYPE="text/css">
</head>

<body>

<a href="contents.html">Top</a>

<hr>

<h1>Building the Source</h1>

<hr>

<p>
<b>Using configure and make</b>
<p>
For Linux:

<pre>
    $ ./configure --with-jdk=DIR
    $ make
    $ make install
</pre>

The <code>--with-jdk</code> option is <b>always</b> required,
in order to specify which JDK to use (give the full path of its top-level directory).
<p>
On Mac OS X, the --with-jdk option should be specified like this:
<pre>
    --with-jdk=/System/Library/Frameworks/JavaVM.framework
</pre>
<p>
You can use the <code>--with-extensions</code> option to specify extensions to
the <code>CLASSPATH</code>. For example, you may want to build j with XML
parser support:
<pre>
    $ ./configure ... --with-extensions=/usr/share/java/xerces.jar
</pre>
Extensions specified in this way are added to the <code>CLASSPATH</code> both
during the build process and at runtime.
<p>
<a name="jpty"></a>If you want to use certain experimental features such as
shell and telnet buffers, you should specify the <code>--enable-jpty</code>
option (you will also need to set <code>enableExperimentalFeatures=true</code>
in your <a href="preferences.html">preferences</a> file).
<p>
For Windows, you'll need the
<a href="http://sourceware.cygnus.com/cygwin/">Cygwin</a> tools, and you'll need
to be running bash as your shell.  You can use the Cygwin drive notation (if
need be) to specify the location of your JDK:
<pre>
    $ ./configure --with-jdk=//c/jdk1.5.0
</pre>

In addition, you must specify the --unix option when invoking make:

<pre>
    $ make --unix
    $ make --unix install
</pre>

As an alternative, you can set the MAKE_MODE environment variable before running make:

<pre>
    $ export MAKE_MODE=unix
    $ make
    $ make install
</pre>

By default, j will be installed in /usr/local/bin, which may not be what you
want if you're running Windows.
<p>
After you've built and installed j, you should be able to invoke it from the
command line by just typing
<pre>
    $ j
</pre>
if /usr/local/bin is in your PATH.
<p>
<b>Using Ant</b>
<p>
Starting with version 0.11.2, j also comes with an
<a href="http://jakarta.apache.org/ant">Ant</a>-based build system. Version
1.4.1 or later of Ant is required.
<p>
Change into the root directory of the j source distribution and edit the file
build.properties to suit your situation. Then:
<pre>
    $ ant all
    $ ant install
</pre>
This will install j in /usr/local/bin.
<p>
In theory, since Ant is a Java-based, cross-platform tool, the Ant build
system should work on Windows too, but it has only been tested on Linux. Minor
adjustments may be required to get it to work correctly on Windows.
</body> </html>
